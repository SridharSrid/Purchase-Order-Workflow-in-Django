<!-- <div class="container mt-5">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Receive Goods for PO #{{ po.id }}</h4>
    </div>

    <div class="card-body">
      <form method="post">
        {% csrf_token %}

        <div class="table-responsive">
          <table class="table table-bordered align-middle text-center">
            <thead class="table-light">
              <tr>
                <th scope="col">Product</th>
                <th scope="col">Ordered Qty</th>
                <th scope="col">Received Qty</th>
              </tr>
            </thead>
            <tbody>
              {% for item in po.items.all %}
              <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>
                  <input 
                    type="number" 
                    name="received_qty_{{ item.id }}" 
                    class="form-control text-center" 
                    min="0" 
                    max="{{ item.quantity }}" 
                    required
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="mb-3">
          <label for="remarks" class="form-label fw-semibold">Remarks (optional):</label>
          <textarea name="remarks" class="form-control" rows="3" placeholder="Enter any remarks..."></textarea>
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-success">
            <i class="bi bi-box-arrow-in-down"></i> Submit Receipt
          </button>
        </div>
      </form>
    </div>
  </div>
</div> -->
<!-- Container for the Receive Goods Form -->
<div class="container mt-5">
  <!-- Card to hold the form -->
  <div class="card shadow-lg">
    <!-- Card Header -->
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Receive Goods for PO #{{ po.id }}</h4>
    </div>

    <!-- Card Body -->
    <div class="card-body">
      <!-- POST form to receive goods -->
      <form method="post">
        {% csrf_token %}

        <!-- Items Table -->
        <div class="table-responsive">
          <table class="table table-bordered align-middle text-center">
            <thead class="table-light">
              <tr>
                <th scope="col">Product</th>
                <th scope="col">Ordered Qty</th>
                <th scope="col">Received Qty</th>
              </tr>
            </thead>
            <tbody>
              {% for item in po.items.all %}
              <tr>
                <!-- Display product name -->
                <td>{{ item.product.name }}</td>
                <!-- Display quantity ordered -->
                <td>{{ item.quantity }}</td>
                <!-- Input field for quantity received -->
                <td>
                  <input 
                    type="number" 
                    name="received_qty_{{ item.id }}" 
                    class="form-control text-center" 
                    min="0" 
                    max="{{ item.quantity }}" 
                    required
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Optional remarks field -->
        <div class="mb-3">
          <label for="remarks" class="form-label fw-semibold">Remarks (optional):</label>
          <textarea name="remarks" class="form-control" rows="3" placeholder="Enter any remarks..."></textarea>
        </div>

        <!-- Submit button aligned to the right -->
        <div class="text-end">
          <button type="submit" class="btn btn-success">
            <i class="bi bi-box-arrow-in-down"></i> Submit Receipt
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

